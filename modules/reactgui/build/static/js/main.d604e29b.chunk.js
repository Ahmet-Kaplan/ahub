(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var a=n(10),o=(n(59),"POST"),r="GET",c="application/json";function i(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=!1,u=t.toUpperCase(),p=Object(a.a)({method:u,headers:{Accept:c}},i);return t===o&&(p.body=JSON.stringify(r)),e.fetch(n,p).then(function(e){return e.ok&&(s=!0),e.json()}).then(function(e){if(s)return e;throw new Error(e.message)}).catch(function(e){throw e})}function s(e){return i(r,e)}}).call(this,n(23))},47:function(e,t,n){e.exports=n(69)},69:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),i=n(11),s=n(12),u=n(14),p=n(13),l=n(15),d=n(82),m=n(89),b=n(84),h=n(85),f=n(24),g=n(21),E=n(38),j=n(1);function O(){var e=Object(E.a)(["\n    text-decoration: none;\n    margin: 16px 0;\n    font-size: 16px;\n"]);return O=function(){return e},e}var v=Object(j.b)(f.a)(O()),y=n(17),k=n(10),w=n(9),x=n(86),q=n(87),z=n(88),C=n(80),R=n(81),S=n(83),Q=n(41),D=n.n(Q),A=(n(66),"http://ahub.westeurope.cloudapp.azure.com:8000/"),I=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={response:"INIT",endpoints:{}},n.getEndpoints=n.getEndpoints.bind(Object(w.a)(Object(w.a)(n))),n.getEndpointResponse=n.getEndpointResponse.bind(Object(w.a)(Object(w.a)(n))),n.updateEndpointQuery=n.updateEndpointQuery.bind(Object(w.a)(Object(w.a)(n))),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getEndpoints()}},{key:"getEndpoints",value:function(){var e=this;Object(g.a)("".concat(A).concat(this.props.name,"/swagger.json")).then(function(t){console.log(t);var n=Object.keys(t.paths).reduce(function(e,n){return e[n]={response:null,params:t.paths[n].get.parameters},e},{});console.log(n),e.setState({endpoints:n})}).catch(function(e){return console.warn(e)})}},{key:"updateEndpointQuery",value:function(e,t){var n=this;return function(a){n.setState({endpoints:Object(k.a)({},n.state.endpoints,Object(y.a)({},e,Object(k.a)({},n.state.endpoints[e],{query:Object(k.a)({},n.state.endpoints[e].query,Object(y.a)({},t,a.target.value))})))})}}},{key:"getEndpointResponse",value:function(e){var t=this,n="";this.state.endpoints[e].query&&(n=Object.entries(this.state.endpoints[e].query).reduce(function(e,t,n){return t[1]&&(e+="".concat(e.length>0?"&":"?").concat(t[0],"=").concat(t[1])),e},"")),Object(g.a)("".concat(A).concat(this.props.name,"/").concat(e).concat(n)).then(function(n){var a=Object(k.a)({},t.state.endpoints,Object(y.a)({},e,Object(k.a)({},t.state.endpoints[e],{response:n})));t.setState({endpoints:a})}).catch(function(e){return console.warn(e)})}},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,{margin:{horizontal:"medium"},pad:"medium"},o.a.createElement(x.a,{level:"2"},"Overview for: ",o.a.createElement(q.a,{color:"accent-1",size:"xxlarge"},this.props.name)),this.state.endpoints?Object.keys(this.state.endpoints).map(function(t){return o.a.createElement(J,{key:"".concat(e.props.name,"-endpoint-").concat(t),name:t,queryParameters:e.state.endpoints[t].params,updateEndpointQuery:e.updateEndpointQuery,response:e.state.endpoints[t].response,getEndpointResponse:e.getEndpointResponse})}):o.a.createElement(z.a,null,"Loading endpoint functions..."))}}]),t}(o.a.Component),J=function(e){var t=e.name,n=e.response,a=e.queryParameters,r=e.getEndpointResponse,c=e.updateEndpointQuery;return o.a.createElement(b.a,{basis:"auto",border:"all",margin:{vertical:"medium"},pad:"medium",background:"neutral-1",fill:!1},a&&a.map(function(e){return o.a.createElement(C.a,{label:"".concat(e.name," (").concat(e.description,")"),htmlFor:"input-".concat(e.name),key:"".concat(t,"-input-").concat(e.name)},o.a.createElement(R.a,{id:"input-".concat(e.name),placeholder:e.name,onChange:c(t,e.name)}))}),o.a.createElement(S.a,{className:"endpointbutton",onClick:function(){return r(t)},label:t.toUpperCase()}),n&&o.a.createElement(D.a,{id:"json-pretty",json:n}))},N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,{margin:{horizontal:"medium"},pad:"medium"},o.a.createElement(x.a,{level:"2"},"Debug"),o.a.createElement(b.a,{basis:"auto",border:"all",margin:{vertical:"medium"},pad:"medium",background:"neutral-1",fill:!1}))}}]),t}(o.a.Component),P={global:{colors:{brand:"#003E81","accent-1":"#009EDA","neutral-1":"#000"},font:{family:"Roboto",size:"14px",height:"20px"}}},T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={nodes:[]},n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(g.a)("".concat("http://ahub.westeurope.cloudapp.azure.com:8000/","boss/get_services")).then(function(t){return e.setState({nodes:t.apis})}).catch(function(t){console.warn(t),e.setState({nodes:["node1","node2"]})})}},{key:"render",value:function(){return o.a.createElement(d.a,{theme:P,full:!0},o.a.createElement(m.a,{fill:!0,areas:[{name:"nav",start:[0,0],end:[0,0]},{name:"main",start:[1,0],end:[1,0]}],columns:["small","flex"],rows:["flex"],gap:"none"},o.a.createElement(b.a,{gridArea:"nav",background:"brand",pad:"medium"},o.a.createElement(b.a,null,o.a.createElement(h.a,{src:"https://qunis.de/wordpress-qunis/wp-content/themes/qunis-theme-2016/images/interface/qunis-big-data-logo-w2x.png"})),o.a.createElement(b.a,{tag:"nav",direction:"column",margin:{vertical:"large"}},o.a.createElement(v,{to:"/"},"Home"),this.state.nodes&&this.state.nodes.map(function(e){return o.a.createElement(v,{key:"navlink-".concat(e),to:e},e)}),o.a.createElement(v,{to:"debug"},"Debug"))),o.a.createElement(b.a,{gridArea:"main",background:"brand"},o.a.createElement(f.b,null,this.state.nodes&&this.state.nodes.map(function(e){return o.a.createElement(I,{key:"nodebox-".concat(e),path:e,name:e})}),o.a.createElement(N,{path:"/debug"})))))}}]),t}(o.a.Component);c.a.render(o.a.createElement(T,null),document.getElementById("root"))}},[[47,2,1]]]);
//# sourceMappingURL=main.d604e29b.chunk.js.map